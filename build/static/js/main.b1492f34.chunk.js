(this["webpackJsonpmdc-app"]=this["webpackJsonpmdc-app"]||[]).push([[0],{110:function(e,t,s){},121:function(e,t,s){},147:function(e,t,s){},168:function(e,t,s){},169:function(e,t,s){},171:function(e,t,s){"use strict";s.r(t);var n=s(25),a=s.n(n),A=s(10),c=s.n(A),r=s(12),i=s(4),o=s(2),l=s.n(o),j=s(13),g=s(15),d=s(6),u=s(18),b=(s(147),s(115));s(148);b.a.initializeApp({apiKey:"AIzaSyBhu5qApLVhq9XNUOWCuWROkstZDdzcE8w",authDomain:"microcontentdevlopment.firebaseapp.com",databaseURL:"https://microcontentdevlopment-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"microcontentdevlopment",storageBucket:"microcontentdevlopment.appspot.com",messagingSenderId:"12134570353",appId:"1:12134570353:web:64e77eef37a99cb990fed0"});var O=b.a.auth(),C=s(1),x=Object(o.createContext)(),h=function(e){var t=Object(o.useState)(null),s=Object(i.a)(t,2),n=s[0],a=s[1],A=Object(o.useState)(null),c=Object(i.a)(A,2),r=c[0],l=c[1],j=Object(o.useState)(null),g=Object(i.a)(j,2),d=g[0],u=g[1],b=Object(o.useState)(null),O=Object(i.a)(b,2),h=O[0],p=O[1];return Object(C.jsx)(x.Provider,{value:{uidState:[n,a],utypeState:[h,p],unameState:[d,u],userState:[r,l]},children:e.children})},p=function(e){var t=e.setShowAlert,s=Object(o.useContext)(x),n=s.userState,a=(s._,Object(i.a)(n,2)),A=a[0],l=(a[1],Object(o.useState)()),j=Object(i.a)(l,2),b=j[0],h=j[1],p=Object(o.useState)(),I=Object(i.a)(p,2),m=I[0],f=I[1],v=Object(o.useState)(),S=Object(i.a)(v,2),y=S[0],N=S[1],_=Object(o.useState)(),T=Object(i.a)(_,2),k=T[0],P=T[1],E=Object(o.useState)(),w=Object(i.a)(E,2),R=w[0],L=w[1],W=Object(o.useState)(!1),H=Object(i.a)(W,2),z=H[0],q=H[1],D=Object(o.useState)(!1),M=Object(i.a)(D,2),K=M[0],F=M[1],B=Object(o.useState)(!1),Z=Object(i.a)(B,2),X=Z[0],U=Z[1],G=Object(o.useState)(!1),Q=Object(i.a)(G,2),V=Q[0],Y=Q[1],J=Object(o.useState)(!1),$=Object(i.a)(J,2),ee=$[0],te=$[1],se=Object(o.useState)(!1),ne=Object(i.a)(se,2),ae=ne[0],Ae=ne[1],ce=Object(o.useState)(null),re=Object(i.a)(ce,2),ie=re[0],oe=re[1],le=Object(o.useState)(null),je=Object(i.a)(le,2),ge=je[0],de=je[1],ue=Object(o.useRef)(null),be=Object(g.g)();return console.log("@register: user=",A),A&&(t(!0),be.push("/")),Object(C.jsx)("div",{className:"registerMainSpace",children:Object(C.jsxs)(d.a,{className:"registerForm",ref:ue,onSubmit:function(e){if(e.preventDefault(),function(){var e=!0;return k||(Y(!0),e=!1),R||(te(!0),e=!1),b||(q(!0),oe(null),e=!1),m||(F(!0),de(null),e=!1),y||m===y||(U(!0),e=!1),e}()){console.log("form valudation success !!!");var t={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:k,last_name:R,email:b})},s=function(){var e=Object(r.a)(c.a.mark((function e(){var s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/user"),t);case 2:return s=e.sent,e.next=5,s.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();O.createUserWithEmailAndPassword(b,m).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":oe(e.message);break;case"auth/weak-password":de(e.message)}})).then((function(){s()}))}},children:[Object(C.jsxs)(d.a.Group,{controlId:"formFname",children:[Object(C.jsx)(d.a.Label,{children:"First Name"}),Object(C.jsx)(d.a.Control,{type:"name",placeholder:"First Name",onChange:function(e){Y(!1),P(e.target.value)}}),V&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter your first name."})})]}),Object(C.jsxs)(d.a.Group,{controlId:"formLname",children:[Object(C.jsx)(d.a.Label,{children:"Last Name"}),Object(C.jsx)(d.a.Control,{type:"name",placeholder:"Last Name",onChange:function(e){te(!1),L(e.target.value)}}),ee&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter your last name."})})]}),Object(C.jsxs)(d.a.Group,{controlId:"formBasicEmail",children:[Object(C.jsx)(d.a.Label,{children:"Email address"}),Object(C.jsx)(d.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){q(!1),Ae(!1),h(e.target.value)}}),z&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter valid email address."})}),ie&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:ie})}),ae&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"This email is already registered."})})]}),Object(C.jsxs)(d.a.Group,{controlId:"formBasicPassword",children:[Object(C.jsx)(d.a.Label,{children:"Password"}),Object(C.jsx)(d.a.Control,{type:"password",placeholder:"Password",onChange:function(e){F(!1),f(e.target.value)}}),K&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter non-empty password."})}),ge&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:ge})})]}),Object(C.jsxs)(d.a.Group,{controlId:"formBasicPassword2",children:[Object(C.jsx)(d.a.Label,{children:"Confirm Password"}),Object(C.jsx)(d.a.Control,{type:"password",placeholder:"Re-enter Password",onChange:function(e){m&&m!==e.target.value?U(!0):m&&m===e.target.value&&U(!1),N(e.target.value)}}),X&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Passwords don't match."})})]}),Object(C.jsx)(u.a,{variant:"primary",type:"submit",children:"Register"})]})})},I=s(124),m=function(e){var t=e.alertMessage,s=e.show,n=e.setShow,a=e.variant,A=e.forLogin,c=void 0!==A&&A;return console.log("@Alerts.js"),Object(C.jsx)(C.Fragment,{children:s&&Object(C.jsxs)(I.a,{variant:a,onClose:function(){return n(!1)},dismissible:!0,children:[t,c&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("hr",{}),Object(C.jsx)("div",{className:"d-flex justify-content-end",children:Object(C.jsx)(j.b,{to:"/login",children:Object(C.jsx)(u.a,{onClick:function(){return n(!1)},variant:"outline-success",children:"Login"})})})]})]},1)})},f=(s(121),function(e){var t=Object(o.useContext)(x),s=t.userState,n=(t._,Object(i.a)(s,2)),a=n[0],A=(n[1],Object(o.useRef)()),c=Object(g.g)(),r=Object(o.useState)(""),l=Object(i.a)(r,2),b=l[0],h=l[1],p=Object(o.useState)(null),I=Object(i.a)(p,2),f=I[0],v=I[1],S=Object(o.useState)(""),y=Object(i.a)(S,2),N=y[0],_=y[1],T=Object(o.useState)(null),k=Object(i.a)(T,2),P=k[0],E=k[1],w=Object(o.useState)(!1),R=Object(i.a)(w,2),L=R[0],W=R[1],H=Object(o.useState)(""),z=Object(i.a)(H,2),q=z[0];z[1];if(a)try{c.push(e.location.state.from.pathname)}catch(D){c.push("/")}return console.log("Email:",b,f),console.log("Pass:",N,P),Object(C.jsxs)("div",{className:"loginMainSpace",children:[Object(C.jsx)("div",{style:{height:"100px"},children:Object(C.jsx)(m,{variant:"danger",alertMessage:q,setShow:W,show:L})}),Object(C.jsxs)(d.a,{ref:A,onSubmit:function(e){e.preventDefault(),O.signInWithEmailAndPassword(b,N).catch((function(e){switch(console.log("@fireLogin:",e.code,e.message),e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":v(e.message),console.log("--wrong email");break;case"auth/wrong-password":E("The password is incorrect."),console.log("--wrong pass")}})).then((function(){console.log("@fireLogin: Login DONE !"),W(!1)}))},children:[Object(C.jsxs)(d.a.Group,{controlId:"formBasicEmail",className:"group",onChange:function(e){v(null),h(e.target.value)},children:[Object(C.jsx)(d.a.Label,{children:"Email address"}),Object(C.jsx)(d.a.Control,{type:"email",placeholder:"Enter email"}),f&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:f})})]}),Object(C.jsxs)(d.a.Group,{controlId:"formBasicPassword",className:"group",onChange:function(e){E(null),_(e.target.value)},children:[Object(C.jsx)(d.a.Label,{children:"Password"}),Object(C.jsx)(d.a.Control,{type:"password",placeholder:"Password"}),P&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:P})})]}),Object(C.jsxs)("div",{className:"action_group",children:[Object(C.jsx)(u.a,{className:"action",variant:"primary",type:"submit",children:"Login"}),Object(C.jsx)("p",{className:"mb-3",children:Object(C.jsx)(j.b,{to:"/forgotpassword",className:"registerLink",style:{color:"rgb(0,123,255)"},children:"Forgot Password ?"})}),Object(C.jsxs)("p",{children:["New user ? ",Object(C.jsx)(u.a,{variant:"outline-primary",onClick:function(){return c.push("/Register")},children:"Register"})," "]})]})]})]})}),v=function(){var e=Object(o.useRef)(),t=Object(o.useState)(""),s=Object(i.a)(t,2),n=s[0],a=s[1],A=Object(o.useState)(null),c=Object(i.a)(A,2),r=c[0],l=c[1],g=Object(o.useState)(null),b=Object(i.a)(g,2),x=b[0],h=b[1],p=Object(o.useState)(!1),I=Object(i.a)(p,2),f=I[0],v=I[1],S=Object(o.useState)(null),y=Object(i.a)(S,2),N=y[0],_=y[1],T=Object(o.useState)(!1),k=Object(i.a)(T,2),P=k[0],E=k[1],w=function(){a(null),h(null),_(null),v(!1),E(!1)};return console.log("Email:",n,r),Object(C.jsxs)("div",{className:"loginMainSpace",children:[Object(C.jsxs)("div",{style:{height:"100px"},children:[Object(C.jsx)(m,{variant:"danger",alertMessage:x,setShow:v,show:f}),Object(C.jsx)(m,{variant:"success",alertMessage:N,setShow:E,show:P})]}),Object(C.jsxs)(d.a,{ref:e,onSubmit:function(e){e.preventDefault(),O.sendPasswordResetEmail(n).then((function(){_("Check your inbox further instructions !"),E(!0),console.log("successs")})).catch((function(e){console.log("error-",e.code,e.message),l(e.message),h("Failed to reset password"),v(!0)}))},children:[Object(C.jsxs)(d.a.Group,{controlId:"formBasicEmail",className:"group",onChange:function(e){l(null),w(),a(e.target.value)},children:[Object(C.jsx)(d.a.Label,{children:"Email address"}),Object(C.jsx)(d.a.Control,{type:"email",placeholder:"Enter email"}),r&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:r})})]}),Object(C.jsxs)("div",{className:"action_group",children:[Object(C.jsx)(u.a,{className:"action",variant:"primary",type:"submit",children:"Reset Password"}),Object(C.jsx)("p",{children:Object(C.jsx)(j.b,{to:"/Login",style:{color:"rgb(0,123,255)"},className:"registerLink",children:"Login"})})]})]})]})},S=s(180),y=s(19),N=function(){var e=Object(o.useContext)(x),t=e.uidState,s=e.unameState,n=(e._,Object(i.a)(t,2)),a=n[0],A=(n[1],Object(i.a)(s,2)),c=A[0];A[1];return Object(C.jsxs)(S.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",style:{padding:"10px 30px"},children:[Object(C.jsx)(S.a.Brand,{href:"/",children:"MCD"}),Object(C.jsx)(S.a.Toggle,{"aria-controls":"mcd-nav"}),Object(C.jsx)(S.a.Collapse,{id:"mcd-nav",children:Object(C.jsxs)(y.a,{className:"ms-auto",children:[Object(C.jsx)(j.b,{to:"/leaderboard",children:Object(C.jsx)(y.a.Link,{eventKey:"1",href:"#/leaderboard",children:"Leaderboard"})}),c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.b,{to:"/profile=".concat(a),children:Object(C.jsx)(y.a.Link,{eventKey:"2",href:"#/profile",children:c})}),Object(C.jsx)(j.b,{to:"/",children:Object(C.jsx)(y.a.Link,{eventKey:"3",href:"#/logout",onClick:function(){O.signOut()},children:"Logout"})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(y.a.Link,{eventKey:"4",href:"/login",children:"Login"}),Object(C.jsx)(y.a.Link,{eventKey:"5",href:"/register",children:"Register"})]})]})})]})},_=s(3),T=s(5),k=["component"],P=function(e){var t=e.component,s=Object(T.a)(e,k),n=Object(o.useContext)(x),a=n.userState,A=(n._,Object(i.a)(a,2)),c=A[0];A[1];return Object(C.jsx)(g.b,Object(_.a)(Object(_.a)({},s),{},{render:function(e){return c?Object(C.jsx)(t,Object(_.a)({},e)):Object(C.jsx)(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},E=s(20),w=s(26),R=s(27),L=s(126),W=s(137),H=s(99),z=(s(24),function(e){var t=e.annotationScore;return Object(C.jsx)(W.a,{placement:"top",overlay:Object(C.jsxs)(L.a,{children:[Object(C.jsx)("strong",{children:"Annotation"})," score"]}),children:Object(C.jsxs)("div",{className:"scoreDetails",children:[Object(C.jsx)(H.b,{size:38,color:"gold",fill:"gold"}),Object(C.jsx)("span",{className:"ml-1",children:t})]})})}),q=function(e){var t=e.profileDetails,s=e.ownProfile,n=e.authToken;return console.log("ownProfile",s,t),s?Object(C.jsx)(D,{authToken:n,profileDetails:t}):Object(C.jsx)(M,{profileDetails:t})},D=function(e){var t=e.profileDetails,s=e.authToken,n=Object(o.useState)(t.first_name),a=Object(i.a)(n,2),A=a[0],l=a[1],j=Object(o.useState)(t.last_name),g=Object(i.a)(j,2),b=g[0],O=g[1],x=Object(o.useState)(t.description),h=Object(i.a)(x,2),p=h[0],I=h[1];return Object(C.jsxs)(d.a,{children:[Object(C.jsxs)(w.a,{className:"mb-3",children:[Object(C.jsxs)(d.a.Group,{as:E.a,controlId:"firstname",children:[Object(C.jsx)(d.a.Label,{children:"First Name"}),Object(C.jsx)(d.a.Control,{size:"md",value:A,onChange:function(e){l(e.target.value)}})]}),Object(C.jsxs)(d.a.Group,{as:E.a,controlId:"lastname",children:[Object(C.jsx)(d.a.Label,{children:"Last Name"}),Object(C.jsx)(d.a.Control,{size:"md",value:b,onChange:function(e){O(e.target.value)}})]})]}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"email",children:[Object(C.jsx)(d.a.Label,{children:"Email address"}),Object(C.jsx)(d.a.Control,{size:"md",type:"email",defaultValue:t.email,readOnly:!0})]}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"email",children:[Object(C.jsx)(d.a.Label,{children:"About"}),Object(C.jsx)(d.a.Control,{size:"md",as:"textarea",placeholder:"Coming Soon...",value:p,onChange:function(e){I(e.target.value)}})]}),Object(C.jsx)(w.a,{children:Object(C.jsx)(u.a,{size:"md",className:"ml-auto",variant:"primary",onClick:function(){!function(){var e={method:"PUT",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:A,last_name:b,description:p})};(function(){var n=Object(r.a)(c.a.mark((function n(){var a,A;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/user/").concat(t._id,"?auth_token=").concat(s,"/"),e);case 2:return a=n.sent,n.next=5,a.json();case 5:A=n.sent,console.log("update response",A);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),window.location.reload()}()},children:"Modify"})})]})},M=function(e){var t=e.profileDetails;return Object(C.jsxs)(d.a,{children:[Object(C.jsxs)(w.a,{className:"mb-1",children:[Object(C.jsxs)(d.a.Group,{as:E.a,controlId:"firstname",children:[Object(C.jsx)(d.a.Label,{children:"First Name"}),Object(C.jsx)(d.a.Control,{size:"sm",value:t.first_name,plaintext:!0,readOnly:!0,style:{color:"rgb(0,123,255)",fontSize:"130%",padding:"0"}})]}),Object(C.jsxs)(d.a.Group,{as:E.a,controlId:"lastname",children:[Object(C.jsx)(d.a.Label,{children:"Last Name"}),Object(C.jsx)(d.a.Control,{size:"sm",value:t.last_name,plaintext:!0,readOnly:!0,style:{color:"rgb(0,123,255)",fontSize:"130%",padding:"0"}})]})]}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"email",children:[Object(C.jsx)(d.a.Label,{children:"Email address"}),Object(C.jsx)(d.a.Control,{size:"sm",type:"email",value:t.email,plaintext:!0,readOnly:!0,style:{color:"rgb(0,123,255)",fontSize:"130%"}})]}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"about",children:[Object(C.jsx)(d.a.Label,{children:"About"}),Object(C.jsx)(d.a.Control,{size:"sm",as:"textarea",placeholder:"Coming Soon...",value:t.description,plaintext:!0,readOnly:!0,style:{fontSize:"130%"}})]})]})},K=function(e){return 1===e.activity.length?Object(C.jsx)("div",{className:"spChar",style:{textAlign:"center",marginTop:"1.5em"},children:"No activity yet..."}):Object(C.jsxs)("div",{style:{textAlign:"center",marginTop:"1.5em"},children:[Object(C.jsx)("span",{className:"spChar",children:"Work In Progress"}),Object(C.jsx)("br",{}),Object(C.jsx)("span",{className:"text-muted",children:"sorry for the delay"})]})},F=s(179),B=s(127),Z=s.n(B),X=s(55),U=s(67),G=s(72),Q=s(71),V=s(139),Y=function(e){Object(G.a)(s,e);var t=Object(Q.a)(s);function s(){var e;Object(X.a)(this,s);for(var n=arguments.length,a=new Array(n),A=0;A<n;A++)a[A]=arguments[A];return(e=t.call.apply(t,[this].concat(a))).interval=void 0,e.state={isAnimated:!1},e}return Object(U.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.repeat?this.interval=window.setInterval((function(){e.setState({isAnimated:!e.state.isAnimated})}),1e3*this.props.duration):this.setState({isAnimated:!this.state.isAnimated})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return Object(C.jsx)(V.a,{start:function(){return{value:e.props.valueStart}},update:function(){return{value:[e.state.isAnimated?e.props.valueEnd:e.props.valueStart],timing:{duration:1e3*e.props.duration,ease:e.props.easingFunction}}},children:function(t){var s=t.value;return e.props.children(s)}})}}]),s}(l.a.Component);Y.defaultProps={valueStart:0};var J,$=Y,ee=s(118),te=(s(157),function(e){var t=e.progressCard;return 0===Object.keys(t).length?Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"2.5em"},children:Object(C.jsx)("span",{className:"spChar",children:"Busy Making Progress..."})}):Object(C.jsx)("div",{className:"allProgress enableScroll",children:Object.keys(t).map((function(e){return Object(C.jsx)("div",{className:"oneBar",children:Object(C.jsx)(Z.a,{children:function(s){var n=s.isVisible?t[e]:0;return Object(C.jsx)($,{valueStart:0,valueEnd:n,duration:1,easingFunction:F.a,children:function(t){var s=t.toFixed(1);return Object(C.jsx)(ee.a,{value:t,circleRatio:.75,styles:Object(ee.b)({rotation:.625,strokeLinecap:"butt",textColor:"rgb(0,123,255)",pathColor:"rgb(0,123,255)",pathTransition:"none"}),children:Object(C.jsxs)("div",{className:"innerChild",children:[Object(C.jsxs)("span",{className:"spChar",children:[s,"%"]}),Object(C.jsxs)("span",{style:{fontSize:"130%"},children:[Object(C.jsx)("span",{className:"spChar",children:e.charAt(0)}),e.slice(1)]})]})})}})}})},e)}))})}),se=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),s=t[0],n=t[1],a=Object(o.useState)(""),A=Object(i.a)(a,2),c=A[0],r=A[1],l=Object(o.useState)(""),j=Object(i.a)(l,2),g=j[0],b=j[1],x=Object(o.useState)(!1),h=Object(i.a)(x,2),p=h[0],m=h[1],f=Object(o.useState)(""),v=Object(i.a)(f,2),S=(v[0],v[1],Object(o.useState)("")),y=Object(i.a)(S,2),N=y[0],_=y[1],T=Object(o.useState)(!1),k=Object(i.a)(T,2);k[0],k[1];return Object(C.jsxs)(d.a,{children:[g&&Object(C.jsx)(I.a,{onClose:function(){return b("")},variant:"danger",dismissible:!0,children:g}),p&&Object(C.jsx)(I.a,{onClose:function(){return m(!1)},variant:"success",dismissible:!0,children:"Password has been changed !"}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"password",children:[Object(C.jsx)(d.a.Label,{children:"New Password"}),Object(C.jsx)(d.a.Control,{size:"sm",type:"password",value:s,onChange:function(e){n(e.target.value),""===e.target.value&&_(!1)}})]}),Object(C.jsxs)(d.a.Group,{className:"mb-3",controlId:"confirmPassword",children:[Object(C.jsx)(d.a.Label,{children:"Confirm Password"}),Object(C.jsx)(d.a.Control,{size:"sm",type:"password",value:c,onChange:function(e){!function(e){s&&s!==e.target.value?_(!0):s&&s===e.target.value&&_(!1),r(e.target.value)}(e)}}),N&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Passwords don't match."})})]}),Object(C.jsx)(w.a,{children:Object(C.jsx)(u.a,{className:"ml-auto",variant:"primary",disabled:""===c||s!==c,onClick:function(){console.log("new pass:",s,c),O.currentUser.updatePassword(s).then((function(){m(!0)})).catch((function(e){b(e.message)}))},children:"Change Password"})})]})},ne=s(58),ae=s(128),Ae=s(129),ce=function(){var e=Object(o.useContext)(x),t=e.userState,s=(e._,Object(i.a)(t,2)),n=s[0],a=(s[1],Object(o.useState)([])),A=Object(i.a)(a,2),l=A[0],j=A[1],g=Object(o.useState)([]),d=Object(i.a)(g,2),u=d[0],b=d[1],O=Object(o.useState)("data"),h=Object(i.a)(O,2),p=h[0],I=h[1],m=Object(o.useRef)();Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/creator?auth_token=").concat(n,"/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,a=s.response,console.log(a),j(a||[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(){var e=Object(r.a)(c.a.mark((function e(t,s){var a,A,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(s,"/report?auth_token=").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.json();case 5:A=e.sent,r=A.response,I(l.filter((function(e){return e._id===s}))[0].name),b(r),m.current.link.click();case 10:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"report-container",children:[Object(C.jsxs)(Ae.a,{className:"report-table",size:"md",bordered:!0,hover:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"S No."}),Object(C.jsx)("th",{children:"Task Name"}),Object(C.jsx)("th",{children:"Action"})]})}),Object(C.jsx)("tbody",{children:l.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t+1}),Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"download-button",onClick:function(t){return f(t,e._id)},children:[Object(C.jsx)(ne.a,{}),Object(C.jsx)("div",{style:{fontSize:"1rem"},children:" Download"})]})})]})}))})]}),Object(C.jsx)(ae.CSVLink,{ref:m,filename:"".concat(p,".csv"),className:"hidden",target:"_blank",data:u,headers:[{label:"Task ID",key:"_id"},{label:"Task Name",key:"name"},{label:"Question ID",key:"question_list.id"},{label:"Question Prompt",key:"question_list.question_prompt"},{label:"Question type",key:"question_list.question_type"},{label:"Question Level",key:"question_list.question_level"},{label:"Question Language",key:"question_list.language"},{label:"Response ID",key:"responses._id"},{label:"User ID",key:"responses.user_id"},{label:"User First Name",key:"responses.user.first_name"},{label:"User First Name",key:"responses.user.last_name"},{label:"User Email Address",key:"responses.user.email"},{label:"Response Text",key:"responses.response"},{label:"Seqno",key:"question_list.seqno"}]})]})},re=function(e){var t=e.message,s=void 0===t?"Loading...":t,n=Object(g.g)();return Object(C.jsx)("div",{className:"mainSpace",style:{textAlign:"center",marginTop:"15em"},children:Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{className:"spChar",children:s.charAt(0)}),s.slice(1),"Loading..."!==s&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsx)(u.a,{variant:"outline-primary",onClick:function(){return n.goBack()},children:"Go Back"})]})]})})},ie=function(e){var t=e.match.params.uid,s=Object(o.useContext)(x),n=s.uidState,a=s.userState,A=(s._,Object(i.a)(n,2)),l=A[0],g=(A[1],Object(i.a)(a,2)),d=g[0],u=(g[1],Object(o.useState)({})),b=Object(i.a)(u,2),O=b[0],h=b[1],p=!1;return Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var s,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/user/").concat(t,"/"),console.log("profileURL:",s),e.next=4,fetch(s);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log(a),h(a.response);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object.keys(O).includes("error")?Object(C.jsx)(re,{message:O.error}):Object.keys(O).includes("_id")?(p=O._id===l,console.log("1.profile ready!",O),console.log("2.ownProfile:",p),Object(C.jsxs)("div",{className:"mainSpace",children:[Object(C.jsxs)("div",{className:"profileHeader",children:[Object(C.jsxs)("div",{className:"quickInfo",children:[Object(C.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjFjZDc2ZTA4LTA5N2EtNGI2MS1hNDFmLWRjODY0NjQ3N2JkZjwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2NDhiN2Y4LWE0MTktNGRiMS05NTc0LTI5ODQ4ZGJmOGNiNDwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/8AAEQgBaAFoAwERAAIRAQMRAf/EABsAAQACAwEBAAAAAAAAAAAAAAAFBwMEBgEC/8QAPBABAAIBAgQBCQYEBQUBAAAAAAECAwQFBhEhMUESEyJRYXGBkcEHFCMycrFCUqHRFUNTorIW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"}),Object(C.jsxs)("div",{className:"intro",children:[Object(C.jsxs)("span",{style:{fontSize:"150%"},children:[Object(C.jsx)("span",{className:"spChar",children:O.first_name.charAt(0)}),O.first_name.slice(1),Object(C.jsxs)("span",{className:"spChar",children:[" ",O.last_name.charAt(0)]}),"."]}),Object(C.jsxs)("span",{children:[Object(C.jsx)("strong",{children:O.user_type})," since"," ",O.date_joined]}),Object(C.jsx)("span",{className:"text-muted",style:{fontSize:"90%"},children:O._id===l?Object(C.jsx)(C.Fragment,{children:"active now"}):Object(C.jsxs)(C.Fragment,{children:["active ",O.last_active]})})]})]}),Object(C.jsx)(z,{annotationScore:O.annotation_score})]}),Object(C.jsx)(R.a.Container,{id:"left-tabs",defaultActiveKey:"about",children:Object(C.jsxs)(w.a,{style:{fontSize:"110%"},children:[Object(C.jsx)(E.a,{sm:4,children:Object(C.jsxs)(y.a,{variant:"pills",className:"flex-column",children:[Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"about",children:"About"})}),p&&Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"pass",children:"Change Password"})}),Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"activity",children:"Recent Activity"})}),Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"progress",children:"Overall Progress"})}),"admin"===O.user_type||"problem_setter"===O.user_type?Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"report",children:"Task Report"})}):Object(C.jsx)(C.Fragment,{}),Object(C.jsx)(y.a.Item,{style:{marginTop:"2em"},children:Object(C.jsx)(j.b,{to:"#",onClick:function(){e.history.goBack()},children:Object(C.jsx)(y.a.Link,{href:"#/",children:"Back"})})})]})}),Object(C.jsx)(E.a,{sm:8,children:Object(C.jsxs)(R.a.Content,{children:[Object(C.jsxs)(R.a.Pane,{eventKey:"about",children:[console.log(O._id,l),Object(C.jsx)(q,{authToken:d,profileDetails:O,ownProfile:O._id===l})]}),p&&Object(C.jsx)(R.a.Pane,{eventKey:"pass",children:Object(C.jsx)(se,{})}),Object(C.jsx)(R.a.Pane,{eventKey:"activity",children:Object(C.jsx)(K,{activity:O.recent_activity})}),Object(C.jsx)(R.a.Pane,{eventKey:"progress",children:Object(C.jsx)(te,{progressCard:O.overall_progress})}),"admin"===O.user_type||"problem_setter"===O.user_type?Object(C.jsx)(R.a.Pane,{eventKey:"report",children:Object(C.jsx)(ce,{})}):Object(C.jsx)(C.Fragment,{})]})})]})})]})):Object(C.jsx)(re,{})},oe=s(28),le=s(73),je=s(140),ge=s(76),de=s(104),ue=function(e){var t=e.taskDetails;return Object(C.jsxs)("div",{className:"taskDetails",children:[Object(C.jsx)("h4",{children:"Short Details"}),t.short_description,Object(C.jsx)("p",{}),Object(C.jsx)("h4",{children:"Languages"}),t.languages.join(", "),Object(C.jsx)("p",{}),Object(C.jsx)("h4",{children:"Tags"}),Object(C.jsx)("div",{className:"flexRowWrap",children:t.tags.map((function(e,t){return Object(C.jsx)("div",{className:"tag",children:e},t)}))})]})},be=function(e){var t=e.taskDetails;return Object(C.jsxs)("div",{className:"taskDetails enableScroll",children:[Object(C.jsx)("h4",{children:"Description"}),Object(C.jsx)("p",{dangerouslySetInnerHTML:{__html:t.details}})]})},Oe=function(e){var t=e.stats;return Object(C.jsxs)("div",{className:"statsHeader",children:[Object(C.jsxs)("div",{className:"d-flex align-items-center",children:["Total Questions: ",t.assigned+t.unassigned]}),Object(C.jsxs)("div",{className:"d-flex align-items-center allCounts",children:[Object(C.jsx)(W.a,{trigger:"hover",placement:"top",overlay:Object(C.jsxs)(je.a,{id:"annotated",children:[Object(C.jsxs)(je.a.Header,{as:"h3",style:{backgroundColor:"rgba(0, 200, 0, 0.7)",textAlign:"center"},children:[t.annotated," annotated"]}),Object(C.jsxs)(je.a.Body,{children:["Number of annotated questions are ",t.annotated]})]}),children:Object(C.jsx)("div",{className:"count green",children:t.annotated})}),"/",Object(C.jsx)(W.a,{trigger:"hover",placement:"top",overlay:Object(C.jsxs)(je.a,{id:"assigned",children:[Object(C.jsxs)(je.a.Header,{as:"h3",style:{backgroundColor:"rgba(0, 123, 255, 0.7)",textAlign:"center"},children:[t.assigned," assigned"]}),Object(C.jsxs)(je.a.Body,{children:["Number of assigned questions are ",t.assigned]})]}),children:Object(C.jsx)("div",{className:"count blue",children:t.assigned})}),"/",Object(C.jsx)(W.a,{trigger:"hover",placement:"top",overlay:Object(C.jsxs)(je.a,{id:"unassigned",children:[Object(C.jsxs)(je.a.Header,{as:"h3",style:{backgroundColor:"rgba(255, 0, 0, 0.7)",textAlign:"center"},children:[t.unassigned," unassigned"]}),Object(C.jsxs)(je.a.Body,{children:["Number of unassigned questions are ",t.unassigned]})]}),children:Object(C.jsx)("div",{className:"count red",children:t.unassigned})})]})]})},Ce=function(e){return Object(C.jsxs)(ge.a,Object(_.a)(Object(_.a)({},e),{},{size:"lg",centered:!0,children:[Object(C.jsx)(ge.a.Header,{closeButton:!0,children:Object(C.jsx)(ge.a.Title,{id:"requestQuestions",children:"Request Questions"})}),Object(C.jsx)(ge.a.Body,{children:Object(C.jsxs)("div",{style:{marginTop:"5px",marginRight:"auto",marginLeft:"auto",textAlign:"center"},children:[Object(C.jsx)(de.a,{axis:"x",xstep:1,xmin:e.lowerBound,xmax:Math.min(e.upperBound,e.stats.unassigned),x:e.quanta,onChange:function(t){e.setQuanta(t.x)},styles:{active:{backgroundColor:"rgb(0,123,255)"}},style:{width:"250px"}}),Object(C.jsx)("p",{children:1===e.quanta?Object(C.jsxs)(C.Fragment,{children:["Request ",Object(C.jsx)("span",{className:"spChar",children:"1"})," question in one session."]}):Object(C.jsxs)(C.Fragment,{children:["Request ",Object(C.jsx)("span",{className:"spChar",children:e.quanta})," questions in one session."]})})]})}),Object(C.jsxs)(ge.a.Footer,{children:[Object(C.jsx)(u.a,{variant:"outline-danger",onClick:e.onHide,children:"Close"}),Object(C.jsx)(u.a,{variant:"outline-primary",onClick:function(){e.requestNewQuestions(),e.onHide()},children:"Request"})]})]}))},xe=s(77),he=s(86),pe=s(47),Ie=s(69),me=s(120),fe=s(84),ve=function(e){var t=e.children,s=e.eventKey,n=e.callback,a=Object(o.useContext)(pe.a),A=Object(Ie.b)(s,(function(){return n&&n(s)})),c=a.activeEventKey===s;return Object(C.jsx)(xe.a.Header,{active:c,className:"qtypeHeader",style:{color:c?"rgb(0,123,255)":"black"},onClick:A,children:t})},Se=function(e){var t=e.sessionsProgress,s=e.qtype;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:s}),Object(C.jsxs)("span",{children:["Completed: ",t[s].filter((function(e){return 100==e})).length," /"," ",t[s].length," session"]})]})},ye=function(e){var t=e.sessionsProgress,s=e.qtype;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:s}),Object(C.jsxs)("span",{children:["Completed: ",t[s].filter((function(e){return 100==e})).length," /"," ",t[s].length," sessions"]})]})},Ne=function(e){var t=e.taskId,s=e.quanta,n=e.setQuanta,a=e.questionTypeMapping,A=e.sessionsProgress;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(he.a,{defaultActiveKey:1,children:Object.keys(A).map((function(e,n){return Object(C.jsxs)(xe.a,{children:[Object(C.jsx)(ve,{as:xe.a.Header,eventKey:n+1,children:1===A[e].length?Object(C.jsx)(Se,{sessionsProgress:A,qtype:e}):Object(C.jsx)(ye,{sessionsProgress:A,qtype:e})}),Object(C.jsx)(he.a.Collapse,{eventKey:n+1,children:Object(C.jsx)("div",{className:"flexRowWrap spaceEvenly enableScroll",style:{maxHeight:"45vh"},children:A[e].map((function(n,A){return Object(C.jsx)(j.b,{to:"/task=".concat(t,"/").concat(a[e],"/").concat(A,".").concat(s),children:Object(C.jsxs)("div",{className:"box session",children:[Object(C.jsxs)("div",{className:"smName",children:[Object(C.jsx)("span",{className:"spChar",children:"S"}),"ession"," ",Object(C.jsx)("span",{className:"spChar",children:A+1})]}),100===n?Object(C.jsx)(fe.b,{className:"alignCenter",size:42}):Object(C.jsx)(fe.a,{className:"alignCenter",size:42}),Object(C.jsx)(me.a,{now:n,label:"".concat(n,"%")})]})},A)}))})})]},n)}))}),Object(C.jsxs)("div",{style:{marginTop:"5px",marginRight:"auto",marginLeft:"auto",textAlign:"center"},children:[Object(C.jsx)(de.a,{axis:"x",xstep:1,xmin:1,xmax:30,x:s,onChange:function(e){n(e.x)},styles:{active:{backgroundColor:"rgb(0,123,255)"}},style:{width:"250px"}}),Object(C.jsx)("p",{children:1===s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"spChar",children:"1"})," question per session."]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"spChar",children:s})," questions per session."]})})]})]})},_e=function(e){var t=e.stats,s=e.lowerBound,n=e.upperBound,a=e.taskId,A=e.quanta,c=e.setQuanta,r=e.questionTypeMapping,o=e.sessionsProgress,g=e.requestNewQuestions,d=e.updateQuestionStats;console.log("EXsessionsProgress:",o);var b=l.a.useState(!1),O=Object(i.a)(b,2),x=O[0],h=O[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ce,{stats:t,show:x,onHide:function(){return h(!1)},requestNewQuestions:g,lowerBound:s,upperBound:n,quanta:A,setQuanta:c}),Object(C.jsx)(Oe,{stats:t}),Object(C.jsx)(he.a,{defaultActiveKey:1,children:Object.keys(o).map((function(e,t){return Object(C.jsxs)(xe.a,{children:[Object(C.jsx)(ve,{as:xe.a.Header,eventKey:t+1,children:1===o[e].length?Object(C.jsx)(Se,{sessionsProgress:o,qtype:e}):Object(C.jsx)(ye,{sessionsProgress:o,qtype:e})}),Object(C.jsx)(he.a.Collapse,{eventKey:t+1,children:Object(C.jsx)("div",{className:"flexRowWrap spaceEvenly enableScroll",style:{maxHeight:"45vh"},children:o[e].map((function(t,s){return Object(C.jsx)(j.b,{to:"/task=".concat(a,"/").concat(r[e],"/").concat(s,".").concat(A),children:Object(C.jsxs)("div",{className:"box session",children:[Object(C.jsxs)("div",{className:"smName",children:[Object(C.jsx)("span",{className:"spChar",children:"S"}),"ession"," ",Object(C.jsx)("span",{className:"spChar",children:s+1})]}),100===t?Object(C.jsx)(fe.b,{className:"alignCenter",size:42}):Object(C.jsx)(fe.a,{className:"alignCenter",size:42}),Object(C.jsx)(me.a,{now:t,label:"".concat(t,"%")})]})},s)}))})})]},t)}))}),Object(C.jsx)("div",{className:"d-flex mt-2 justify-content-end",children:Object(C.jsx)(u.a,{onClick:function(){d(),h(!0)},children:"Request Questions"})})]})},Te=function(e){var t=Object(o.useContext)(x),s=t.userState,n=(t._,Object(i.a)(s,2)),a=n[0],A=(n[1],Object(o.useState)({})),l=Object(i.a)(A,2),g=l[0],d=l[1],u=Object(o.useState)(20),b=Object(i.a)(u,2),O=b[0],h=b[1],p=e.match.params.taskId,I=Object(o.useState)(""),m=Object(i.a)(I,2),f=m[0],v=m[1];Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,n,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(p,"/"),t=a?"".concat(t,"?auth_token=").concat(a,"&session_length=").concat(O):"".concat(t,"?session_length=").concat(O),console.log(t),e.next=5,fetch(t);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,console.log("data",n),v(n.response.access_type),"single-view"===n.response.access_type&&O>n.response.max_question_count&&(A=n.response.max_question_count,n.response.single_view_stats.unassigned<n.response.max_question_count&&(A=n.response.single_view_stats.unassigned),h(parseInt(A/2))),d(n.response);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O,p]);var S=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,n,A,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},s="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(p,"/request_questions?auth_token=").concat(a,"&session_length=").concat(O,"/"),e.next=4,fetch(s,t);case 4:return n=e.sent,e.next=7,n.json();case 7:A=e.sent,console.log("requestNewQuestions.data",A),(r=Object(_.a)({},g)).session_progress=A.response.session_progress,r.single_view_stats=A.response.single_view_stats,d(r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,n,a,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(p,"/single_view_stats/"),e.next=3,fetch(t);case 3:return s=e.sent,e.next=6,s.json();case 6:n=e.sent,console.log("updateQuestionStats.data",n),(a=Object(_.a)({},g)).single_view_stats=n,"single-view"===g.access_type&&O>g.max_question_count&&(A=g.max_question_count,n.unassigned<g.max_question_count&&(A=n.unassigned),h(parseInt(A/2))),d(a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object.keys(g).includes("error")?Object(C.jsx)(re,{message:g.error}):Object.keys(g).length<13?Object(C.jsx)(re,{}):(console.log("task details",g),Object(C.jsxs)("div",{className:"mainSpace",children:[Object(C.jsxs)("div",{className:"breadCrumbs",children:[Object(C.jsxs)(j.b,{to:"/",children:[Object(C.jsx)("span",{className:"spChar",children:"H"}),"ome"]}),Object(C.jsx)("span",{className:"spChar spaceAround",children:"/"}),Object(C.jsx)("span",{className:"spChar",children:g.name.charAt(0)}),g.name.slice(1)]}),Object(C.jsx)(R.a.Container,{id:"left-tabs",defaultActiveKey:"first",children:Object(C.jsxs)(w.a,{style:{fontSize:"110%"},children:[Object(C.jsx)(E.a,{sm:4,className:"cursorPointer",children:Object(C.jsxs)(y.a,{variant:"pills",className:"flex-column",children:[Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"first",children:"Overview"})}),Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"second",children:"Description"})}),Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:"third",children:"Start Task"})}),Object(C.jsx)(y.a.Item,{style:{marginTop:"2em"},children:Object(C.jsx)(j.b,{to:"#",onClick:function(){e.history.goBack()},children:Object(C.jsx)(y.a.Link,{href:"#/",children:"Back"})})})]})}),Object(C.jsx)(E.a,{sm:8,children:Object(C.jsxs)(R.a.Content,{children:[Object(C.jsx)(R.a.Pane,{eventKey:"first",children:Object(C.jsx)(ue,{taskDetails:g})}),Object(C.jsx)(R.a.Pane,{eventKey:"second",children:Object(C.jsx)(be,{taskDetails:g})}),Object(C.jsxs)(R.a.Pane,{eventKey:"third",children:["single-view"===f&&Object(C.jsx)(_e,{stats:g.single_view_stats,lowerBound:g.min_question_count,upperBound:g.max_question_count,taskId:g._id,quanta:O,setQuanta:h,questionTypeMapping:g.mapping,sessionsProgress:g.session_progress,requestNewQuestions:S,updateQuestionStats:N}),"global-view"===f&&Object(C.jsx)(Ne,{taskId:g._id,quanta:O,setQuanta:h,questionTypeMapping:g.mapping,sessionsProgress:g.session_progress})]})]})})]})})]}))},ke=s(85),Pe=(s(163),function(e){var t=e.lang,s=e.text,n=e.setText,a=e.hidden,A=void 0!==a&&a;return Object(o.useEffect)((function(){console.log("TransInput Initiated")}),[]),console.log("1text",s),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ke.a,{lang:t,hidden:A,value:s,onChange:function(e){return n(e.target.value)},placeholder:"Type your answer",offsetX:13,containerClassName:"editArea",renderComponent:function(e){return Object(C.jsx)(d.a.Control,Object(_.a)(Object(_.a)({as:"textarea"},e),{},{style:{fontSize:"90%",height:"8em"}}))},activeItemStyles:{backgroundColor:"rgb(0,123,255)",fontSize:"110%"},triggerKeys:[ke.b.KEY_ENTER,ke.b.KEY_TAB,ke.b.KEY_RETURN]})})}),Ee=function(e){var t=e.question,s=e.taskId,n=e.index,a=e.questionsMap,A=e.setQuestionsMap,l=Object(o.useContext)(x),j=l.userState,g=(l._,Object(i.a)(j,2)),b=g[0];g[1];console.log("question Q:",t);var O=function(e){console.log("UserNewResponse:",e.userAns);var i=Object(_.a)({},a);i[n].annotation_done=!0,i[n].user_response=e.userAns,A(i);var o={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:e.userAns,response_type:t.question_type})};(function(){var e=Object(r.a)(c.a.mark((function e(){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(s,"/annotation/").concat(t.id,"?auth_token=").concat(b,"/"),o);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},h=function(e){var t=e.userResponse,s=e.lang,a=Object(o.useState)(""),A=Object(i.a)(a,2),c=A[0],r=A[1];return Object(o.useEffect)((function(){""===c&&t&&t.length>0&&(r(t[0]),console.log("userResponse",t,"\ntext:",c))}),[]),Object(C.jsxs)(d.a,{children:["en"===s&&Object(C.jsx)(d.a.Control,{as:"textarea",value:c,onChange:function(e){return r(e.target.value)},placeholder:"Type your answer"}),"en"!==s&&Object(C.jsx)(Pe,{lang:s,index:n,text:c,setText:r}),c.length>0&&Object(C.jsx)("div",{className:"submitBtn",children:Object(C.jsx)(u.a,{onClick:function(){return O({userAns:[c]})},children:"Submit !"})})]})},p=function(e){var t=e.options,s=e.userResponse,n=Object(o.useState)(""),a=Object(i.a)(n,2),A=a[0],c=a[1];return""===A&&t.includes(s[0])&&c(s[0]),console.log("mcq-single selected:",A),Object(C.jsxs)(d.a,{children:[t.map((function(e){return Object(C.jsx)(d.a.Check,{type:"radio",label:e,className:"bigMcq",checked:A===e,onChange:function(){console.log("option:",e),c(e),console.log("post:",A)}},e)})),t.includes(A)&&Object(C.jsx)("div",{className:"submitBtn",children:Object(C.jsx)(u.a,{onClick:function(){return O({userAns:[A]})},children:"Submit !"})})]})},I=function(e,t){var s=Object(_.a)({},e);return s[t]=!e[t],s},m=function(e){var t=e.options,s=e.userResponse,n={};t.map((function(e){return n[e]=!1,s.includes(e)&&(n[e]=!0),Object(C.jsx)(C.Fragment,{})}));var a=Object(o.useReducer)(I,n),A=Object(i.a)(a,2),c=A[0],r=A[1];return Object(C.jsxs)(d.a,{children:[t.map((function(e){return Object(C.jsx)(d.a.Check,{type:"checkbox",label:e,className:"bigMcq",checked:c[e],onChange:function(){r(e)}},e)})),Object.values(c).some((function(e){return!0===e}))&&Object(C.jsx)("div",{className:"submitBtn",children:Object(C.jsx)(u.a,{onClick:function(){return function(){var e={userAns:[]};Object.keys(c).map((function(t){c[t]&&e.userAns.push(t)})),O(e)}()},children:"Submit !"})})]})},f=function(e){var t=e.options,s=void 0===t?["Correct","Modify"]:t,a=e.userResponse,A=e.questionDefaultValue,c=e.lang,r=Object(o.useState)(""),l=Object(i.a)(r,2),j=l[0],g=l[1],b=Object(o.useState)(""),x=Object(i.a)(b,2),h=x[0],p=x[1],I=Object(o.useState)(!0),m=Object(i.a)(I,2),f=m[0],v=m[1];return Object(o.useEffect)((function(){""===h&&a.length>0&&("Correct"===a[0]?(p("Correct"),g("Correct")):(p("Modify"),g(a[0])))}),[]),Object(o.useEffect)((function(){console.log("selected changed:",h),"Modify"===h?(v(!1),0===a.length||"Correct"===a[0]?(g(A),console.log("text=queDefault:",A)):(g(a[0]),console.log("text=userResponse[0]:",a[0]))):(g("Correct"),v(!0))}),[h]),Object(C.jsxs)(d.a,{children:[s.map((function(e){return Object(C.jsx)(d.a.Check,{type:"radio",label:e,className:"bigMcq",checked:h===e,onChange:function(){console.log("option:",e),p(e),console.log("post:",h)}},e)})),"en"===c&&Object(C.jsx)(d.a.Control,{as:"textarea",value:j,onChange:function(e){return g(e.target.value)},hidden:f,style:{height:"8em"}}),"en"!==c&&Object(C.jsx)(Pe,{lang:c,index:n,text:j,setText:g,hidden:f}),s.includes(h)&&Object(C.jsxs)("div",{className:"translationBtns",children:[Object(C.jsxs)("div",{className:"leftBtns",hidden:"Correct"===h,children:[Object(C.jsx)(u.a,{variant:"outline-secondary",onClick:function(){return g(A)},children:"Default Translation"}),Object(C.jsx)(u.a,{variant:"outline-secondary",onClick:function(){return g("")},children:"Clear Text"})]}),Object(C.jsx)(u.a,{hidden:"Modify"===h&&(""===j.trim()||j.trim()===A.trim()),onClick:function(){return O({userAns:[j]})},style:{marginLeft:"auto"},children:"Submit !"})]})]})};return Object(C.jsx)(R.a.Pane,{eventKey:n,children:Object(C.jsx)("div",{className:"QnA",children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h5",{style:{display:"flex",flexFlow:"row"},children:[Object(C.jsx)("span",{className:"spChar mr-1",children:"Q:"}),Object(C.jsx)("p",{dangerouslySetInnerHTML:{__html:t.question_prompt}})," "]}),Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)("h5",{children:Object(C.jsx)("span",{className:"spChar mr-1",children:"A:"})}),Object(C.jsx)("div",{className:"AnsForm",children:"text"===t.question_type?Object(C.jsx)(h,{userResponse:t.user_response,lang:t.text_input_language}):"mcq-multiple-correct"===t.question_type?Object(C.jsx)(m,{options:t.response_options,userResponse:t.user_response}):"mcq-single-correct"===t.question_type?Object(C.jsx)(p,{options:t.response_options,userResponse:t.user_response}):"translation"===t.question_type?Object(C.jsx)(f,{userResponse:t.user_response,lang:t.text_input_language,questionDefaultValue:t.default_value}):Object(C.jsx)(C.Fragment,{})})]})]})})})},we=s(48),Re=s(74),Le=s(131),We=s(75),He=s(133),ze=We.a.div(J||(J=Object(Re.a)([" \n\tmax-height: 50vh;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n"]))),qe=function(e){var t=e.show,s=e.onHide,n=e.questions,a=e.releaseQuestions,A=Object(o.useState)([]),l=Object(i.a)(A,2),j=l[0],g=l[1],d=function(){var e=Object(r.a)(c.a.mark((function e(t,s){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(we.a)(j),t&&!n.includes(s)?n.push(s):!t&&n.includes(s)&&(a=n.indexOf(s),n.splice(a,1)),g(n);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(C.jsxs)(ge.a,{show:t,onHide:s,size:"lg",centered:!0,"aria-labelledby":"image_upload_modal",children:[Object(C.jsx)(ge.a.Header,{closeButton:!0,children:Object(C.jsx)(ge.a.Title,{id:"Release Questions",children:"Select questions to release"})}),Object(C.jsx)(ge.a.Body,{style:{textAlign:"center"},children:Object(C.jsx)(ze,{children:n.map((function(e,t){return Object(C.jsxs)(w.a,{style:{padding:"10px 0px",borderBottom:t+1<n.length?"1px solid gray":"0px"},children:[Object(C.jsxs)(E.a,{xs:2,children:["Q ",t+1]}),Object(C.jsx)(E.a,{xs:8,children:Object(C.jsx)("span",{dangerouslySetInnerHTML:{__html:e.question_prompt}})}),Object(C.jsx)(E.a,{xs:2,className:"d-flex justify-content-center",children:Object(C.jsx)(Le.a,{size:30,disabled:e.annotation_done,checked:j.includes(e.id),value:j[0],icon:Object(C.jsx)(He.a,{color:"red",size:30}),onChange:function(t){return d(t,e.id)},borderWidth:2,borderColor:e.annotation_done?"rgba(150,150,150)":"rgba(255,0,0,0.5)",className:"customCheckbox",style:{backgroundColor:e.annotation_done?"rgba(150,150,150, 0.5)":j.includes(e.id)?"rgba(255,0,0,0.2)":"transparent"}})})]})}))})}),Object(C.jsx)(ge.a.Footer,{children:Object(C.jsx)(u.a,{variant:"outline-danger",onClick:function(e){e.preventDefault(),a(j,g)},children:"Release"})})]})},De=function(e){var t=e.done,s=e.index;return Object(C.jsx)(y.a.Item,{children:Object(C.jsx)(y.a.Link,{eventKey:s,children:Object(C.jsxs)("div",{className:"QNum",children:["Q. ",parseInt(s)+1,t&&Object(C.jsx)(oe.a,{size:28})]})})})},Me=function(e){var t=Object(o.useContext)(x),s=(t._,t.userState),n=Object(i.a)(s,2),a=n[0],A=(n[1],e.match.params.snum),l=e.match.params.quanta,g=e.match.params.questionType,d=Number(A),b=1+l*A,O=b+(l-1),h=e.match.params.taskId,p=parseInt(e.match.params.snum)+1,I=Object(o.useState)({}),m=Object(i.a)(I,2),f=m[0],v=m[1],S=Object(o.useState)([]),N=Object(i.a)(S,2),_=N[0],T=N[1],k=Object(o.useState)(""),P=Object(i.a)(k,2),L=P[0],W=P[1],H=Object(o.useState)("Loading..."),z=Object(i.a)(H,2),q=z[0],D=z[1],M=Object(o.useState)(!1),K=Object(i.a)(M,2),F=K[0],B=K[1],Z=function(e){Object.keys(e).includes("error")?(D(e.error),T([])):"success"!=e.status?(D(e.response),T([])):(v(e.response.questions),T(Object.values(e.response.questions)),W(e.response.task_name))};Object(o.useEffect)((function(){(function(){var t=Object(r.a)(c.a.mark((function t(){var s,n,A;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="",s="single-view"===g?"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(e.match.params.taskId,"/single_view_questions?session_index=").concat(d,"&auth_token=").concat(a,"/"):"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(e.match.params.taskId,"/questions?start_index=").concat(b,"&end_index=").concat(O,"&auth_token=").concat(a,"&question_type=").concat(g,"/"),console.log("question url:",s),t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:A=t.sent,Z(A);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var X=function(){var t=Object(r.a)(c.a.mark((function t(s,n){var A,r,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("selected ques:",s,typeof s),A={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({question_ids:s})},r="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/").concat(e.match.params.taskId,"/bulk_question_release?auth_token=").concat(a,"/"),console.log("qURL:",r),t.next=6,fetch(r,A);case 6:return i=t.sent,console.log("response:",i),t.next=10,i.json();case 10:o=t.sent,console.log("data",o),Z(o),n([]),B(!1);case 15:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}();return console.log("questions:",_),0===_.length?Object(C.jsx)(re,{message:q}):Object(C.jsxs)("div",{className:"mainSpace",children:[Object(C.jsx)(qe,{show:F,onHide:function(){return B(!1)},questions:_,releaseQuestions:X}),Object(C.jsxs)("div",{className:"breadCrumbs",children:[console.log("Qs:",_),Object(C.jsxs)(j.b,{to:"/",children:[Object(C.jsx)("span",{className:"spChar",children:"H"}),"ome"]}),Object(C.jsx)("span",{className:"spChar spaceAround",children:"/"}),Object(C.jsxs)(j.b,{to:"/task=".concat(h),children:[Object(C.jsx)("span",{className:"spChar",children:L.slice(0,1)}),L.slice(1)]}),Object(C.jsx)("span",{className:"spChar spaceAround",children:"/"}),Object(C.jsx)("span",{className:"spChar",children:"S"}),"ession"," ",Object(C.jsx)("span",{className:"spChar",children:p})]}),Object(C.jsx)(R.a.Container,{id:"left-tabs",defaultActiveKey:"0",children:Object(C.jsxs)(w.a,{className:"mainContent flexRowWrap centerContent",children:[Object(C.jsxs)(E.a,{sm:3,style:{minWidth:"250px"},children:[Object(C.jsx)(y.a,{variant:"pills",className:"flex-column cursorPointer enableScroll",style:{maxHeight:"50vh"},children:_.map((function(e,t){return Object(C.jsx)(De,{done:e.annotation_done,index:t},t)}))}),"single-view"===g&&Object(C.jsx)("div",{className:"submitBtn",children:Object(C.jsx)(u.a,{variant:"outline-danger",onClick:function(e){e.preventDefault(),console.log("remove questions"),B(!0)},children:Object(C.jsx)("span",{className:"releaseBtn",children:"Release Questions"})})}),Object(C.jsx)("div",{style:{marginTop:"1em"},children:Object(C.jsx)(j.b,{to:"#",onClick:function(t){t.preventDefault(),e.history.goBack()},children:"Back"})})]}),Object(C.jsx)(E.a,{sm:8,children:Object(C.jsxs)(R.a.Content,{children:[_.map((function(e,t){return Object(C.jsx)(Ee,{index:t,taskId:h,question:e,questionsMap:f,setQuestionsMap:v},t)})),Object(C.jsx)(Ee,{index:_.length,taskId:"0",question:{question_prompt:"<span font={{color:'red'}}>Question is deleted</span>"},questionsMap:f,setQuestionsMap:v},_.length)]})})]})})]})},Ke=function(){var e=Object(o.useContext)(x),t=e.userState,s=e.uidState,n=(e._,Object(i.a)(s,2)),a=(n[0],n[1],Object(i.a)(t,2)),A=a[0],l=(a[1],Object(o.useState)([])),j=Object(i.a)(l,2),d=j[0],u=j[1],b=Object(o.useState)([]),O=Object(i.a)(b,2),h=O[0],p=O[1];Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/leaderboard"),A&&(t="".concat(t,"?auth_token=").concat(A,"/")),e.next=4,fetch(t);case 4:return s=e.sent,e.next=7,s.json();case 7:n=e.sent,console.log(n),u(n.response),p(n.user_rank);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("details",d);var I=Object(g.g)();return Object(C.jsx)("div",{className:"mainSpace enableScroll",children:Object(C.jsxs)(Ae.a,{striped:!0,hover:!0,variant:"dark",style:{width:"70%",margin:"auto"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"First Name"}),Object(C.jsx)("th",{children:"Last Name"}),Object(C.jsx)("th",{children:"Total Score"})]})}),Object(C.jsxs)("tbody",{children:[d.map((function(e){return Object(C.jsxs)("tr",{style:{cursor:"pointer"},onClick:function(){I.push("/profile="+e.user_id)},children:[Object(C.jsx)("td",{children:e.rank}),Object(C.jsx)("td",{children:e.first_name}),Object(C.jsx)("td",{children:e.last_name}),Object(C.jsx)("td",{children:e.final_score})]},e.rank)})),h.length>0&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:Object(C.jsx)(oe.b,{size:20})}),Object(C.jsx)("td",{})]},"ellipsis"),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:h[0][0]}),Object(C.jsx)("td",{children:h[0][1]}),Object(C.jsx)("td",{children:h[0][2]}),Object(C.jsx)("td",{children:h[0][4]})]},h[0][0])]})]})]})})},Fe=s(135),Be=s(134),Ze=s(138);var Xe,Ue,Ge,Qe=function(){var e=Object(o.useContext)(x),t=e.userState,s=(e._,Object(i.a)(t,2)),n=s[0],a=(s[1],Object(o.useState)({tags:[],langs:[]})),A=Object(i.a)(a,2),l=A[0],j=A[1],g=Object(o.useState)(""),b=Object(i.a)(g,2),O=b[0],h=b[1],p=Object(o.useState)(""),I=Object(i.a)(p,2),f=I[0],v=I[1],S=Object(o.useState)(""),y=Object(i.a)(S,2),N=y[0],_=y[1],T=Object(o.useState)([]),k=Object(i.a)(T,2),P=k[0],R=k[1],L=Object(o.useState)(),W=Object(i.a)(L,2),H=W[0],z=W[1],q=Object(o.useState)("global-view"),D=Object(i.a)(q,2),M=D[0],K=D[1],F=Object(o.useState)(!1),B=Object(i.a)(F,2),Z=B[0],X=B[1],U=Object(o.useState)(!1),G=Object(i.a)(U,2),Q=G[0],V=G[1],Y=Object(o.useState)(!1),J=Object(i.a)(Y,2),$=J[0],ee=J[1],te=Object(o.useState)(!1),se=Object(i.a)(te,2),ne=se[0],ae=se[1],Ae=Object(o.useState)(""),ce=Object(i.a)(Ae,2),re=ce[0],ie=ce[1],oe=Object(o.useState)(!1),le=Object(i.a)(oe,2),je=le[0],ge=le[1],de=Object(o.useRef)(null),ue=Object(o.useRef)(null);return Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/tags/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,j({tags:s.response.tags,langs:s.response.langs});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsxs)("div",{className:"createProblemMainSpace",children:[Object(C.jsx)("div",{style:{height:"150px"},children:Object(C.jsx)(m,{show:ne,setShow:ae,alertMessage:re,variant:je?"danger":"success"})}),Object(C.jsxs)(d.a,{onSubmit:function(e){(console.log("checking form entries..."),e.preventDefault(),function(){var e=!0;return O||(X(!0),e=!1),f||(V(!0),e=!1),console.log("file vlidation log",H),H||(ee(!0),e=!1),e}())&&(console.log("form validated successfully !!"),e.preventDefault(),console.log(H),console.log("uploading the files...."),function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,a,A,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",H),t.append("name",O),t.append("short_description",f),t.append("details",N),t.append("tags",P),t.append("access_type",M),s="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/genric?auth_token=").concat(n,"/"),e.next=10,fetch(s,{method:"POST",body:t});case 10:return a=e.sent,e.next=13,a.json();case 13:A=e.sent,Object.keys(A).includes("error")?(ie(A.error),ae(!0),ge(!0)):Object.keys(A).includes("status")&&"success"===A.status&&(r=A.valid_question_count+A.invalid_question_count,ie("successfully created task with ".concat(A.valid_question_count," valid questions out of total ").concat(r," questions.")),ge(!1),ae(!0),de.current.reset(),h(""),v(""),_(""),R([]),z(null),K("global-view")),console.log("file upload response",A);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())},ref:de,children:[Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Name"}),Object(C.jsxs)(E.a,{sm:4,children:[Object(C.jsx)(d.a.Control,{type:"text",placeholder:"Task name",onChange:function(e){X(!1),h(e.target.value)}}),Z&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter task name."})})]})]}),Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Description"}),Object(C.jsxs)(E.a,{sm:4,children:[Object(C.jsx)(d.a.Control,{type:"text",placeholder:"Short description",onChange:function(e){V(!1),v(e.target.value)}}),Q&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please enter short description."})})]})]}),Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Task details"}),Object(C.jsx)(E.a,{sm:4,children:Object(C.jsx)(d.a.Control,{as:"textarea",type:"text",placeholder:"Detailed description",onChange:function(e){_(e.target.value)}})})]}),Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Question availability"}),Object(C.jsx)(E.a,{sm:4,children:Object(C.jsx)(Be.a,{children:[{name:"Shared",value:"global-view"},{name:"Exclusive",value:"single-view"}].map((function(e,t){return Object(C.jsx)(Fe.a,{id:"access-".concat(t),type:"radio",variant:"outline-secondary",name:"radio",value:e.value,checked:M===e.value,onChange:function(e){return K(e.currentTarget.value)},children:e.name},t)}))})})]}),Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Tags"}),Object(C.jsx)(E.a,{sm:4,children:Object(C.jsx)(Ze.a,{ref:ue,isMulti:!0,onChange:function(e,t){for(var s=[],n=0,a=Object.entries(e);n<a.length;n++){var A=Object(i.a)(a[n],2),c=(A[0],A[1]);s.push(c.value)}R(s)},options:l.tags.map((function(e){return{label:e,value:e}}))})})]}),Object(C.jsxs)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:[Object(C.jsx)(d.a.Label,{column:!0,sm:3,children:"Question file"}),Object(C.jsxs)(E.a,{sm:4,children:[Object(C.jsx)(d.a.Control,{type:"file",placeholder:"question xls file",onChange:function(e){ee(!1),z(e.target.files[0])}}),$&&Object(C.jsx)(d.a.Text,{className:"text-muted",children:Object(C.jsx)("span",{style:{color:"red"},children:"Please select a question file."})})]})]}),Object(C.jsx)(d.a.Group,{as:w.a,className:"mb-3 d-flex justify-content-center",children:Object(C.jsx)(u.a,{type:"submit",style:{width:"150px"},children:"Create Task"})})]})]})},Ve=function(e){var t=e.task,s=70;return"Cities"===t?Object(C.jsx)(le.b,{size:s}):"Schools"===t?Object(C.jsx)(oe.c,{size:s}):"Temples"===t?Object(C.jsx)(le.a,{size:s}):"Colleges"===t?Object(C.jsx)(oe.e,{size:s}):"addProblems"===t?Object(C.jsx)(ne.b,{color:"green",size:s}):Object(C.jsx)(ne.c,{size:s})},Ye=We.a.span(Xe||(Xe=Object(Re.a)(["\n\tcolor: rgba(115, 115, 115, 1);\n\tbackground: linear-gradient(to bottom, rgba(115, 115, 115, 0.05), rgba(115, 115, 115, 0.1));\n  \n\theight: fit-content;\n\tpadding: 3px 9px;\n\tmargin-right: 10px;\n\tmargin-bottom: 10px;\n\tborder-radius: 10px;\n  \n\t&:hover {\n\t  cursor: pointer;\n\t  // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 1.5px 5px 0 rgba(0, 0, 0, 0.19);\n\t  background: linear-gradient(to bottom, rgba(115, 115, 115, 0.05), rgba(115, 115, 115, 0.25));\n\t}\n"]))),Je=We.a.span(Ue||(Ue=Object(Re.a)(["\n\tcolor:",";\n\tbackground:",";\n  \n\theight: fit-content;\n\tpadding: 3px 9px;\n\tmargin-right: 10px;\n\tmargin-bottom: 10px;\n\tborder-radius: 10px;\n  \n\t&:hover {\n\t  cursor: pointer;\n\t  // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 1.5px 5px 0 rgba(0, 0, 0, 0.19);\n\t  background:",";\n\t}\n"])),(function(e){return e.num%2?"rgba(0, 60, 255, 1)":"rgba(0,123,255, 1)"}),(function(e){return e.num%2?"linear-gradient(to bottom, rgba(0, 60, 255, 0.05), rgba(0, 60, 255, 0.1))":"linear-gradient(to bottom, rgba(0, 123, 255, 0.05), rgba(0, 123, 255, 0.1))"}),(function(e){return e.num%2?"linear-gradient(to bottom, rgba(0, 60, 255, 0.05), rgba(0, 60, 255, 0.25))":"linear-gradient(to bottom, rgba(0, 123, 255, 0.05), rgba(0, 123, 255, 0.25))"})),$e=Object(We.a)(Je)(Ge||(Ge=Object(Re.a)(["\n\tcolor: grey;  \n\tbackground: none;\n  \n\tpadding: 5px;\n\tmargin: 5px;\n\tborder-radius: 10px;\n  \n\t&:hover {\n\t  cursor: pointer;\n\t  background: rgb(235, 235, 235);\n\t}\n"]))),et=s(136),tt=(s(110),function(e){var t=e.taskQuery,s=e.setTaskQuery,n=e.sortOption,a=e.setSortOption,A=e.tasksLength,c=Object(o.useState)(!1),r=Object(i.a)(c,2),l=r[0],j=r[1];return Object(C.jsx)("div",{className:"taskSpaceHeader",children:Object(C.jsxs)("div",{className:"innerHeader",children:[Object(C.jsxs)("div",{className:"counts",children:[Object(C.jsx)("span",{style:{fontSize:"120%"},children:"Tasks"}),Object(C.jsx)("span",{style:{fontSize:"120%",color:"gray",marginLeft:"10px"},children:A})]}),Object(C.jsxs)("div",{className:"tasksSearchArea",children:[Object(C.jsx)(oe.d,{size:16,color:"rgb(0,123,255)",style:{position:"absolute",marginTop:"6px",marginLeft:"10px"}}),Object(C.jsx)("input",{type:"text",placeholder:"Search Tasks",value:t,className:"tasksSearchBar twopxborder focus:ring-inset",onChange:function(e){return s(e.target.value)}})]}),Object(C.jsxs)("div",{className:"sortSelect",children:[Object(C.jsxs)("span",{className:"sortButton",onClick:function(){return j(!l)},style:{border:l?"2px rgb(0,123,255) solid":"2px rgb(240, 240, 240) solid"},children:[Object(C.jsx)(et.a,{size:20,color:"rgb(0,123,255)",style:{marginRight:"3px"}}),Object(C.jsxs)("span",{children:["Sort: ",n]})]}),l&&Object(C.jsxs)("span",{className:"options",children:[Object(C.jsx)("div",{className:"oneOption",onClick:function(){a("Alphabetical"),j(!1)},children:"Alphabetical"}),Object(C.jsx)("div",{className:"oneOption",onClick:function(){a("Last Modified"),j(!1)},children:"Last Modified"})]})]})]})})}),st=function(e,t,s){var n=!0;return Object.keys(s[t]).map((function(a){s[t][a]!==e&&(n=!1)})),n},nt=function(e,t,s){return Object.keys(s[t]).map((function(n){s[t][n]=e})),s},at=function(e){var t=e.fullForm,s=e.filters,n=e.setFilters,a=Object(o.useState)(""),A=Object(i.a)(a,2),c=A[0],r=A[1],l=Object(o.useState)([]),j=Object(i.a)(l,2),g=j[0],d=j[1],b=Object(o.useState)([]),O=Object(i.a)(b,2),x=O[0],h=O[1];Object(o.useEffect)((function(){x.length&&d(Object.keys(s[x[0]]).filter((function(e){return 0===c.length||""===c.trim()||e.toLowerCase().startsWith(c.trim().toLowerCase())?e:void 0})))}),[c,x]);var p=function(e){var t=JSON.parse(JSON.stringify(s));t=nt(!0,e,t),n(t)},I=function(e,t){console.log("selectChoice:",e,t);var a=JSON.parse(JSON.stringify(s));st(!0,e,a)?(a=nt(!1,e,a))[e][t]=!0:(a[e][t]=!a[e][t],st(!1,e,a)&&(a=nt(!0,e,a))),n(a)},m=function(e){var t=[],n=[];return Object.keys(s[e]).map((function(a){s[e][a]?t.push(a):n.push(a)})),[].concat(t,n)};return Object(C.jsxs)("div",{className:"filterSpace",id:"filterSpaceID",children:[0===x.length&&Object(C.jsx)("div",{className:"innerSpace",children:Object.keys(s).map((function(e,n){return Object(C.jsxs)("div",{className:"eachCategory",children:[Object(C.jsxs)("div",{style:{marginTop:"20px",marginBottom:"10px"},children:[Object(C.jsx)("span",{style:{fontSize:"120%"},children:e}),Object(C.jsx)("span",{className:"clearAllBtn",onClick:function(){return p(e)},children:"Clear All"})]}),Object(C.jsx)("div",{className:"categoryChoices",children:Object(C.jsxs)(C.Fragment,{children:[m(e).splice(0,5).map((function(a){return s[e][a]?Object(C.jsx)(Je,{num:n,active:s[e][a],onClick:function(){return I(e,a)},children:t[e][a]},a):Object(C.jsx)(Ye,{num:n,onClick:function(){return I(e,a)},children:t[e][a]},a)})),Object.keys(s[e]).length>4&&Object(C.jsxs)($e,{onClick:function(){return h([e,n])},children:["+",Object.keys(s[e]).length-4]},"extra")]})})]},n)}))}),0!==x.length&&Object(C.jsxs)("div",{className:"innerSpace",children:[Object(C.jsxs)(u.a,{variant:"outline-secondary",className:"backButton",onClick:function(){return h([])},style:{display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"10px"},children:[Object(C.jsx)(H.a,{style:{marginRight:"5px",alignSelf:"top"},size:18})," All Filters"]}),Object(C.jsxs)("div",{style:{marginTop:"20px"},children:[Object(C.jsx)("span",{style:{fontSize:"120%"},children:x[0]}),Object(C.jsx)("span",{className:"clearAllBtn",onClick:function(){return p(x[0])},children:"Clear All"})]}),Object(C.jsxs)("div",{className:"filtersSearchArea",children:[Object(C.jsx)(oe.d,{color:"rgb(0,123,255)"}),Object(C.jsx)("input",{type:"text",placeholder:"Search",value:c,className:"filtersSearchbar",onChange:function(e){return r(e.target.value)}})]}),Object(C.jsx)("div",{className:"categoryChoices",children:g.map((function(e){return s[x[0]][e]?Object(C.jsx)(Je,{num:x[1],onClick:function(){return I(x[0],e)},children:t[x[0]][e]},e):Object(C.jsx)(Ye,{num:x[1],onClick:function(){return I(x[0],e)},children:t[x[0]][e]},e)}))})]})]})},At=function(){var e=Object(o.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],a=Object(o.useContext)(x).utypeState,A=Object(i.a)(a,2),l=A[0],g=(A[1],Object(o.useState)({})),d=Object(i.a)(g,2),u=d[0],b=d[1],O=Object(o.useState)({}),h=Object(i.a)(O,2),p=h[0],I=h[1],m=Object(o.useState)(""),f=Object(i.a)(m,2),v=f[0],S=f[1],y=Object(o.useState)("Alphabetical"),N=Object(i.a)(y,2),_=N[0],T=N[1],k=function(e){I(e);var t={};return Object.keys(e).map((function(s){var n={};Object.keys(e[s]).map((function(e){n[e]=!0})),t[s]=n})),t};Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/task/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,console.log("data:",s),n(s.response),b(k(s.filter));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=Object(o.useState)(),E=Object(i.a)(P,2),w=E[0],R=E[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API+"/task",s=!0;return e&&(s=!1,t+="?filter="+e.toLowerCase().replace(" ","_")),v&&(s?(s=!1,t+="?search="+v.toLowerCase().replace(" ","_")):t+="&search="+v.toLowerCase().replace(" ","_")),_&&(s?(s=!1,t+="?sort="+_.toLowerCase().replace(" ","_")):t+="&sort="+_.toLowerCase().replace(" ","_")),t+"/"},W=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s,a,A,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:w,s=L(t),console.log("fetchUrl:",s),e.next=5,fetch(s);case 5:return a=e.sent,e.next=8,a.json();case 8:A=e.sent,n(A.response);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e="",t=!1;return console.log("updating ActiveFilters:",u),Object.keys(u).map((function(s){st(!0,s,u)||(t=!0,Object.keys(u[s]).map((function(t){u[s][t]&&(e+=s+":"+t+",")})))})),e=t?e.slice(0,-1):"",R(e),e}();W(e)}),[u]),Object(o.useEffect)((function(){W()}),[v,_]),0===Object.keys(u).length?Object(C.jsx)(re,{}):Object(C.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(C.jsx)(at,{fullForm:p,filters:u,setFilters:b}),Object(C.jsxs)("div",{className:"taskSpace",children:[Object(C.jsx)(tt,{taskQuery:v,setTaskQuery:S,sortOption:_,setSortOption:T,tasksLength:s.length}),Object(C.jsx)("div",{className:"taskScroll",children:Object(C.jsxs)("div",{className:"flexRowWrap justify-content-center tasksList",children:[["admin","problem_setter"].includes(l)&&Object(C.jsx)(j.b,{to:"/addProblems",children:Object(C.jsxs)("div",{className:"box task addProblems",children:[Object(C.jsxs)("div",{className:"name",children:[Object(C.jsx)("span",{className:"spChar",children:"A"}),"dd Problems"]}),Object(C.jsx)("div",{className:"alignCenter",children:Object(C.jsx)(Ve,{task:"addProblems"})})]})},"0"),s.map((function(e){return Object(C.jsx)(j.b,{to:"/task=".concat(e._id),children:Object(C.jsxs)("div",{className:"box task",children:[Object(C.jsxs)("div",{className:"name",children:[Object(C.jsx)("span",{className:"spChar",children:e.name[0]}),e.name.slice(1)]}),Object(C.jsx)("div",{className:"alignCenter",children:Object(C.jsx)(Ve,{task:e.name})})]})},e._id)}))]})})]})]})},ct=(s(168),function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],a=Object(o.useState)(!1),A=Object(i.a)(a,2),l=A[0],d=A[1],u=Object(o.useContext)(x),b=u.uidState,h=u.userState,I=u.unameState,S=u.utypeState,y=Object(i.a)(h,2),_=(y[0],y[1]),T=Object(i.a)(I,2),k=(T[0],T[1]),E=Object(i.a)(S,2),w=(E[0],E[1]),R=Object(i.a)(b,2),L=(R[0],R[1]),W=!1;return Object(o.useEffect)((function(){W=!0;O.onAuthStateChanged(function(){var e=Object(r.a)(c.a.mark((function e(t){var s,a,A,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!1),console.log("@1App.js|authStateChanged:",t),console.log("--isMounted:",W),!t||!W){e.next=19;break}return s={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,user_id:t.uid})},a="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/user/login/"),e.next=8,fetch(a,s);case 8:return A=e.sent,e.next=11,A.json();case 11:r=e.sent,console.log("login response",r),L(r.user_id),w(r.user_type),k(r.user_name),_(r.auth_token),e.next=20;break;case 19:W?(_(null),k(null),w(null),L(null)):console.log("waiting for isMounted");case 20:n(!0);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){W=!1}}),[]),document.title="MCD",s?Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)(j.a,{children:[Object(C.jsx)(N,{}),Object(C.jsx)(m,{show:l,setShow:d,alertMessage:"Successfully registered.",variant:"success"}),Object(C.jsx)("div",{className:"AppSpace",children:Object(C.jsxs)(g.d,{children:[Object(C.jsx)(f,{exact:!0,path:"/login",component:f}),Object(C.jsx)(v,{exact:!0,path:"/forgotpassword",component:v}),Object(C.jsx)(p,{exact:!0,path:"/register",setShowAlert:d,component:p}),Object(C.jsx)(g.b,{exact:!0,path:"/profile=:uid",component:ie}),Object(C.jsx)(Ke,{exact:!0,path:"/leaderboard",component:Ke}),Object(C.jsx)(P,{exact:!0,path:"/addProblems",component:Qe}),Object(C.jsx)(g.b,{exact:!0,path:"/",component:At}),Object(C.jsx)(g.b,{exact:!0,path:"/task=:taskId",component:Te}),Object(C.jsx)(P,{exact:!0,path:"/task=:taskId/:questionType/:snum.:quanta",component:Me}),Object(C.jsx)(g.b,{path:"*",component:function(){return Object(C.jsx)("h1",{children:"No such page"})}})]})})]})}):Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)(j.a,{children:[Object(C.jsx)(N,{}),Object(C.jsx)(re,{})]})})});s(169),s(170);a.a.render(Object(C.jsx)(h,{children:Object(C.jsx)(ct,{})}),document.getElementById("root"))},24:function(e,t,s){}},[[171,1,2]]]);
//# sourceMappingURL=main.b1492f34.chunk.js.map